/*
 * Shorten, a jQuery plugin to automatically shorten text to fit in a block or a pre-set width and configure how the text ends.
 * Copyright (C) 2009-2010  Marc Diethelm
 * License: (GPL 3, http://www.gnu.org/licenses/gpl-3.0.txt) see license.txt
 */

(function(a){a.d.e=function(){var h={},c=arguments,i=c.callee;if(c.length)if(c[0].constructor==Object)h=c[0];else if(c[0]=="options")return a(this).k(0).data("options-truncate");else h={width:parseInt(c[0]),b:c[1]};this.f("visibility","hidden");var e=a.extend({},i.g,h);return this.j(function(){var b=a(this);b.data("options-truncate",e);if(e.b=="..."&&i.c){this.style[i.c]="ellipsis";b.f("visibility","visible");return true}var k=e.width||b.parent().width(),f=b.text(),l=f.length,g=a('<table style="padding:0; margin:0; border:none; font:inherit;width:auto;zoom:1;position:absolute;"><tr style="padding:0; margin:0; border:none; font:inherit;"><td style="padding:0; margin:0; border:none; font:inherit;white-space:nowrap;">'+ e.b+"</td></tr></table>"),d=a("td",g);b.a(g);g=d.width();g=k-g;d.text(f);if(d.width()>k){for(e.h&&b.i("title",f);d.width()>=g;){l--;d.a(d.a().substring(0,l))}f=a.l(d.a());b.a(f+e.b)}else b.text(f);this.style.visibility="visible";return true})};var m=document.documentElement.style,j=false;if("textOverflow"in m)j="textOverflow";else if("OTextOverflow"in m)j="OTextOverflow";a.d.e.c=j;a.d.e.g={b:"&hellip;",h:true}})(jQuery);
