/*
 * Shorten, a jQuery plugin to automatically shorten text to fit in a block or a pre-set width and configure how the text ends.
 * Copyright (C) 2009-2010  Marc Diethelm
 * License: (GPL 3, http://www.gnu.org/licenses/gpl-3.0.txt) see license.txt
 */

(function(b){b.fn.textTruncate=function(){var g={};var e=arguments;var f=e.callee;if(e.length){if(e[0].constructor==Object){g=e[0]}else{if(e[0]=="options"){return b(this).eq(0).data("options-truncate")}else{g={width:parseInt(e[0]),tail:e[1]}}}}this.css("visibility","hidden");var d=b.extend({},f.defaults,g);return this.each(function(){var k=b(this);k.data("options-truncate",d);if(d.tail=="..."&&f._native){this.style[f._native]="ellipsis";k.css("visibility","visible");return true}var i=d.width||k.parent().width();var n=k.text();var p=n.length;var j="padding:0; margin:0; border:none; font:inherit;";var o=b('<table style="'+j+'width:auto;zoom:1;position:absolute;"><tr style="'+j+'"><td style="'+j+'white-space:nowrap;">'+d.tail+"</td></tr></table>");var h=b("td",o);k.html(o);var m=h.width();var l=i-m;h.text(n);if(h.width()>i){if(d.tooltip){k.attr("title",n)}while(h.width()>=l){p--;h.html(h.html().substring(0,p))}n=b.trim(h.html());k.html(n+d.tail)}else{k.html(n)}this.style.visibility="visible";return true});return true};var a=document.documentElement.style;var c=false;if("textOverflow" in a){c="textOverflow"}else{if("OTextOverflow" in a){c="OTextOverflow"}}b.fn.textTruncate._native=c;b.fn.textTruncate.defaults={tail:"&hellip;",tooltip:true}})(jQuery);
